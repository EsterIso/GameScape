<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GameScape Dashboard</title>
    <link rel="stylesheet" href="/resources/css/styles.css">
    
    <!-- Load Clerk SDK from CDN -->
    <script
      async
      crossorigin="anonymous"
      data-clerk-publishable-key="pk_test_Y2hhbXBpb24tc2FpbGZpc2gtODAuY2xlcmsuYWNjb3VudHMuZGV2JA"
      src="https://capable-seasnail-95.clerk.accounts.dev/npm/@clerk/clerk-js@latest/dist/clerk.browser.js"
      type="text/javascript"
    ></script>
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js';
        import { getFirestore, collection, getDocs, query, where, orderBy, limit, onSnapshot, Timestamp } 
        from 'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';
        window.initializeApp = initializeApp;
        window.getFirestore = getFirestore;
        window.collection = collection;
        window.getDocs = getDocs;
        window.query = query;
        window.where = where;
        window.orderBy = orderBy;
        window.limit = limit;
        window.onSnapshot = onSnapshot;
        window.Timestamp = Timestamp;
      </script>
</head>
<body>
    <div class="dashboard">
        <!-- Header Section -->
        <header>
            <h1>GameScape</h1>
            <div class="header-btn" id="app">
                <button class="play-now-btn">Play Now</button>
                <button class="theme-toggle" id="theme"></button>
                <button id="sign-in-button">Sign In</button> <!-- Sign In Button -->
                <div id="user-button"></div>
            </div>
        </header>

        <!-- Stats Overview -->
        <div class="stats-overview">
            <!-- Your stats cards here -->
            <div class="stat-card">
                <div class="stat-icon" id="games-icon"></div>
                <div class="stat-content">
                    <p class="stat-label">Total Games</p>
                    <p class="stat-value" id="total-games">0</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon" id="active-players-icon"></div>
                <div class="stat-content">
                    <p class="stat-label">Active Players</p>
                    <p class="stat-value" id="active-players">0</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon" id="total-players-icon"></div>
                <div class="stat-content">
                    <p class="stat-label">Total Players</p>
                    <p class="stat-value" id="total-players">0</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon" id="avg-rating-icon"></div>
                <div class="stat-content">
                    <p class="stat-label">Avg Rating</p>
                    <p class="stat-value" id="avg-rating">4.5</p>
                </div>
            </div>
        </div>

        <!-- Player Activity Chart -->
        <div class="chart-card">
            <h2>Player Activity</h2>
            <canvas id="player-activity-chart"></canvas>
        </div>

        <!-- Popular Games -->
        <div class="popular-games">
            <h2>Games</h2>
            <div class="games-grid" id="games-grid">
                <!-- Game cards with links -->
                <a href="/games/tictactoe.html" class="game-card">
                    <img src="/resources/image/tictactoe.png" alt="TicTacToe">
                    <video class="game-video" muted loop>
                        <source src="/resources/videos/tictactoe.mp4" type="video/mp4">
                    </video>
                    <div class="title-overlay">TicTacToe</div>
                </a>
                <a href="/games/memorycard.html" class="game-card">
                    <img src="/resources/image/matching.png" alt="Matching Game">
                    <video class="game-video" muted loop>
                        <source src="/resources/videos/matching.mp4" type="video/mp4">
                    </video>
                    <div class="title-overlay">Matching Game</div>
                </a>
                <a href="/games/letterbox.html" class="game-card">
                    <img src="/resources/image/letterbox.png" alt="LetterBox">
                    <video class="game-video" muted loop>
                        <source src="/resources/videos/letterbox.mp4" type="video/mp4">
                    </video>
                    <div class="title-overlay">LetterBox</div>
                </a>
                <a href="/games/platform.html" class="game-card">
                    <img src="/resources/image/platformer.png" alt="Platformer">
                    <video class="game-video" muted loop>
                        <source src="/resources/videos/platformer.mp4" type="video/mp4">
                    </video>
                    <div class="title-overlay">2D Platformer</div>
                </a>
                <a href="/games/racing.html" class="game-card">
                    <img src="/resources/image/racing.png" alt="Track Attack">
                    <video class="game-video" muted loop>
                        <source src="/resources/videos/racing.mp4" type="video/mp4">
                    </video>
                    <div class="title-overlay">Track Attack</div>
                </a>
            </div>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore-compat.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js"></script>
    <script type="module" src='/resources/js/clerk.js'></script>
    <script type="module" src='/resources/js/script.js'></script>
    
    <script type="module" src="/resources/js/firebase-config.js"></script>
    <script type="module" src="/resources/js/firebase-dashboard.js"></script>
</body>
</html>
